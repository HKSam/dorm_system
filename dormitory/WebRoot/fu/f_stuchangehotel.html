<div class="right_top btm">
  <div class="rheader"><span class="pageName"><b>学生住宿调配界面</b></span><span class="shuoming">您可以查看学生住宿调配情况</span></div>
</div>
<div class="right_contain">
       <div id="tab1"></div>
       <p  style="float:left;margin-top:5px;margin-left:550px">
          <a href="Download/360打分(姓名+学号)1.xlsx"><input name="download" type="button" value="住宿分配情况附件下载"></a>
       </p>
       <br />
       <p style="float:left;font-size:13px;color:#FF7F00;">温馨提示：若您想再调整宿舍，请先下载宿舍分配情况附件，再上传调整后的excel表格。</p>        
</div>
<script type="text/javascript">
    //获取登录辅导员的信息
	$(document).ready(function(){
		var tecNum="";
		$.get("teacherInfo/findTeacher.do",function(data){
			tecNum=data.tecNum;
		});
    $.post('studentInfo/findStudentByCondition.do',{"tecNum":tecNum},function(data){
		if(data){
			$("#tab1").datagrid({
						data:data,
						width:'700px',
						height:'250px', 
						columns:[[    
							{field:'dormitory',title:'新寝室号',width:100,align:'center'},
							{field:'roomNum',title:'原寝室号',width:100,align:'center'},
							{field:'name',title:'姓名',width:100,align:'center'},
							{field:'sex',title:'性别',width:80,align:'center'},
							{field:'stuNum',title:'学号',width:100,align:'center'},
							{field:'college',title:'学院',width:120,align:'center'},       
							{field:'classNum',title:'班级',width:100,align:'center'}
						]],
					singleSelect:true,
					saveUrl:'server.php',
					updateUrl:'server.php',
					destroyUrl:'server.php',
					pagination:true	,
					pageNumber:1,
					pageSize:5,
					pageList:[1,5,10,15,20] 
					});
					var pager = $("#tab1").datagrid().datagrid('getPager');// get the pager of datagrid
					pager.pagination({
						beforePageText:"第",
						afterPageText:"共{pages}页",
						displayMsg:"显示{from}到{to},共{total}条记录"
					});
			   $("#tab1").datagrid('autoSizeColumn');//自动调整列宽度以适应
		}else{
				 $.messager.alert("提示","经查询无数据","info");
			 }
	});
});
</script>
