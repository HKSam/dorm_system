<style type="text/css">
.selectab1{
	margin-bottom:10px;
}
</style>
<div class="right_top btm">
  <div class="rheader"><span class="pageName"><b>查询学生信息界面</b></span><span class="shuoming">您可以查看学生信息</span></div>
</div>
<div class="right_contain">
    <from id="form1">
          <div class="selectab1"><span class="jilian"></span>&nbsp;&nbsp;&nbsp;<input name="ok" type="button"  value="确定" id="sure"/></div>
          <div id="tab1"></div>
    </from>
</div>
<script type="text/javascript">
   $(".jilian").cascade({
		url:"json/get/f_stu.json",
		firstName:"专业",
		secondName:"班级",
		firstText:"请选择专业",
		secondText:"请选择班级"
	});                        
    $("#sure").click(function(event) {//点击筛选展示数据
		var major=$("#first_select").val();
		var classes=$("#second_select").val();
		$.post("json/post/f_stu.json",{"major":major,"classes":classes},function(){
			//alert("保存成功");
        });	
		$("#tab1").datagrid({
				url:'json/get/f_studentInfo.json',
				width:'720px',
				height:'300px', 
				columns:[[    
					{field:'college',title:'学院',width:80,align:'center'},    
					{field:'major',title:'专业',width:120,align:'center'},
					{field:'grade',title:'年级',width:50,align:'center'},    
					{field:'classes',title:'班级',width:60,align:'center'},
					{field:'stuNum',title:'学号',width:85,align:'center'}, 
					{field:'name',title:'姓名',width:70,align:'center'}, 
					{field:'sex',title:'性别',width:50,align:'center'},
					{field:'born',title:'出生年月',width:70,align:'center'},
					{field:'area',title:'籍贯',width:65,align:'center'},
					{field:'dormitory',title:'寝室号',width:70,align:'center'}
				]],
			singleSelect:true,
			saveUrl:'server.php',
			updateUrl:'server.php',
			destroyUrl:'server.php',
			pagination:true	,
			pageNumber:1,
			pageSize:5,
			pageList:[1,5,10,15,20] 
			});
			var pager = $("#tab1").datagrid().datagrid('getPager');// get the pager of datagrid
			pager.pagination({
				beforePageText:"第",
				afterPageText:"共{pages}页",
				displayMsg:"显示{from}到{to},共{total}条记录"
			});
		
        });
       $("#tab1").datagrid('autoSizeColumn');//自动调整列宽度以适应	
</script>

